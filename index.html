<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>WebSocket Quiz</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Press+Start 2P' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <img id="introGif" src="./node_modules/Img/start.gif" alt="Intro GIF">
    <div id="content-container">
        <div id="user-section">
            <img src="./node_modules/Img/hado.jpg" alt=""><br>
            <input type="text" id="username" placeholder="名前を入力してください">
            <div class="yoko">
                <button onclick="startQuiz()">GO</button>
                <button onclick="cancel()">STOP</button>
            </div>
        </div>

        <div id="waiting-message">
            <div id="loading-spinner" class="spinner"></div>
            <p>対戦相手を募集しています...</p>
        </div>

        <div id="match-found-message">
            <p>対戦相手が見つかりました。まもなく試合が始まります。</p>
        </div>

        <div id="main-content" class="hidden">
            <div id="header">
                <div id="my-hp" class="hp-bar my-hp-bar">
                    <div class="hp-bar-inner"></div>
                </div>
                <div class="countdown-container">
                    <div id="countdown"></div>
                </div>
                <div id="opponent-hp" class="hp-bar opponent-hp-bar">
                    <div class="hp-bar-inner"></div>
                </div>
            </div>

            <div id="quiz-container">
                <h1>Fight!</h1>

                <div id="ready-message">
                    <p>問題を開始します...</p>
                    <p id="countdown"></p>
                </div>

                <div id="quiz-section">
                    <div id="quiz"></div>
                    <div id="example"></div> <!-- 例文を表示する要素 -->
                    <div id="answer-section">
                        <input type="text" id="answer" placeholder="Type your answer here">
                        <button id="answer-button" onclick="sendAnswer()">ATTACK!</button>
                    </div>
                    <div id="responses"></div>
                </div>

                <div id="next-question">
                    <p>次の問題へ進むボタンを押してください</p>
                    <button id="next-question-button" onclick="readyForNextQuestion()">次の問題へ進む...</button>
                    <p id="waiting-next"></p>
                </div>

                <div id="cutin-background" class="cutin-background"></div>

                <div id="ready" class="ready">
                    <img src="./node_modules/Img/here.jpg" alt="Ready Image">
                </div>

                <div id="attack" class="attack">
                    <p>YOUR ATTACK</p>
                    <img src="./node_modules/Img/ryoryo.png" alt="Attack Image">
                </div>

                <div id="damage" class="damage">
                    <p>YOUR DAMAGE</p>
                    <img src="./node_modules/Img/ken2.png" alt="Damage Image">
                </div>

                <div id="victory" class="cutin-background victory-background"></div> <!-- 勝利カットインを追加 -->
                <div id="final-background" style="display: none;"></div>
                <img id="final-image" src="./node_modules/Img/KO4.png"
                    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">

                <div id="end-game" class="modal hidden">
                    <div class="modal-content">
                        <p id="winner-message"></p>
                        <button onclick="restartGame()">再戦する</button>
                        <button onclick="returnToTitle()">タイトルに戻る</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>

        <audio id="go-sound" src="./node_modules/Bgm/go.mp3"></audio>
        <audio id="countdown-sound" src="./node_modules/Bgm/count.mp3"></audio>
        <audio id="state3-bgm" src="./node_modules/Bgm/taiki.mp3" loop></audio>
        <audio id="state4-bgm" src="./node_modules/Bgm/sentou.mp3" loop></audio>
        <audio id="attack-sound" src="./node_modules/Bgm/attack.mp3"></audio>
        <audio id="damage-sound" src="./node_modules/Bgm/damage.mp3"></audio>
        <audio id="victory-sound" src="./node_modules/Bgm/win.mp3"></audio>
        <audio id="your-new-sound" src="./node_modules/Bgm/saa.mp3"></audio>
        <audio id="correct-sound" src="./node_modules/Bgm/kurae.mp3"></audio>
        <audio id="incorrect-sound" src="./node_modules/Bgm/gu.mp3"></audio>
        <audio id="victory-sound1" src="./node_modules/Bgm/ougi.mp3"></audio>
        <audio id="victory-sound2" src="./node_modules/Bgm/ぐああ.mp3"></audio>
        <audio id="final-sound" src="./node_modules/Bgm/FINI.mp3"></audio>
</body>

</html>